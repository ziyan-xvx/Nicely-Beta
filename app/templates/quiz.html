{% extends "base.html" %} 

{% block title %}results explained{% endblock %} 

{% block content %}
    <div class="center">
    <h3>Welcome @{{usr}}!</h3>

<div class="container" style="padding-top: 20px;">
    <h4>What emoji describes you best now?</h4>
    <div class="row">
        {% for emoji in emojis %}
        <div class="col-3 fade-in-image">
            <p id ={{emoji}} style="font-size: 100px;" onclick=clicked("{{emoji}}")>{{emoji}}</p>
        </div>
        {% endfor %}
    </div>
</div>

<div id="myModal" class="modal">

    <div class="modal-content text-center">
    <form action="{{request.path}}", method="post", id="formsubmit">
      <p>What made you feel like this today?</p>
      <input type="hidden" name="emoji" id="emoji" value = ""/>
      <textarea name = "entry" placeholder="What happened today?" style="width: 1000px;"></textarea><br>
      <button class="btn btn-primary" style="width: 80px; margin: auto;" onclick=next()>Next</button>
    </form>
    </div>

  
  </div>

<a href="http://localhost:5000/dashboard">Back to Dashboard</a>
<script>
    var emojiV 
    function clicked(e) {
    emojiV = e
    var modal = document.getElementById("myModal");
    modal.style.display = "block";
    }

    function next() {
    var form = document.getElementById("formsubmit");
    const inputT = document.getElementById('emoji')
    inputT.value = emojiV
    form.submit()
    }
</script>

{%- for message in get_flashed_messages() %} 
{{ message }}<br> 
{%- endfor%}
</div>

    {% endblock %}